<!doctype html>
<html>
<head>
<title>Audio 7</title>

</head>
<body>
    <select id="select" onchange="play()">
    <option value="cave">Cave</option>
    <option value="church">Church</option>
    <option value="garage">Garage</option>
    <option value="room">Room</option>
    </select>





<script>
    var context = new AudioContext();
    var sound = new Audio("sound.wav");
    var source = context.createMediaElementSource(sound);
    var convolver = context.createConvolver();

    source.connect(convolver);
    convolver.connect(context.destination);



    var request = new XMLHttpRequest();
    request.open("GET",  "cave.wav", true);
    request.responseType = "arraybuffer";

    request.onload = function () {
         var undecodedAudio = request.response;
         context.decodeAudioData(undecodedAudio, function (buffer) {
              convolver.buffer = buffer;
              convolver.normalize = true;
         });
    };


    function play(){
       if(document.getElementById("select").value == "cave"){
        request.open("GET",  "cave.wav", true);
        request.send();
        sound.play();
       }
        else if(document.getElementById("select").value == "church"){
        request.open("GET",  "church.wav", true);
        request.send();
        sound.play();
       }
        else if(document.getElementById("select").value == "garage"){
        request.open("GET",  "garage.wav", true);
        request.send();
        sound.play();
       }
        else if(document.getElementById("select").value == "room"){
        request.open("GET",  "room.wav", true);
        request.send();
        sound.play();
       }


    };


</script>
</body>




</html>
